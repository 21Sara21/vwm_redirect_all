<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    function generateID(length = 8) {
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let id = '';
      for (let i = 0; i < length; i++) {
        id += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      return id;
    }

    function chooseCondition() {
      const conditions = [
        "https://martinconstant.net/laybourn_vwm1/",
        "https://martinconstant.net/laybourn_vwm2/",
        "https://martinconstant.net/laybourn_vwm3/"
      ];
      const index = Math.floor(Math.random() * conditions.length);
      return conditions[index];
    }

    document.addEventListener("DOMContentLoaded", function() {
      const pid = generateID();
      const conditionURL = chooseCondition();
      const redirectURL = conditionURL + "?PID=" + pid;
      window.location.href = redirectURL;
    });
  </script>
</head>
<body>
  <p>Redirecting to a random condition of the study...</p>
</body>
</html>
